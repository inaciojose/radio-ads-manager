# ğŸ“» Radio Ads Manager

Sistema de gerenciamento de anÃºncios para rÃ¡dio com controle de veiculaÃ§Ã£o, clientes e contratos.

## ğŸ¯ Funcionalidades

- âœ… Cadastro de clientes/anunciantes
- âœ… GestÃ£o de contratos e pacotes de propaganda
- âœ… Controle de veiculaÃ§Ãµes (quantas chamadas foram ao ar)
- âœ… IntegraÃ§Ã£o com logs do Zara Studio
- âœ… Controle de notas fiscais
- âœ… Dashboard e relatÃ³rios

## ğŸ“‹ PrÃ©-requisitos

- Python 3.8 ou superior
- pip (gerenciador de pacotes Python)
- Git (opcional)

## ğŸš€ InstalaÃ§Ã£o

### Passo 1: Criar ambiente virtual

O ambiente virtual isola as dependÃªncias do projeto.

**Linux/Mac:**

```bash
cd radio-ads-manager/backend
python3 -m venv venv
source venv/bin/activate
```

**Windows:**

```bash
cd radio-ads-manager\backend
python -m venv venv
venv\Scripts\activate
```

### Passo 2: Instalar dependÃªncias

```bash
pip install -r requirements.txt
```

### Passo 3: Executar a aplicaÃ§Ã£o

```bash
cd app
python main.py
```

Ou usando uvicorn diretamente:

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

## ğŸ“– Acessar a DocumentaÃ§Ã£o

ApÃ³s iniciar o servidor, acesse:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

A documentaÃ§Ã£o Ã© **interativa** - vocÃª pode testar todas as APIs direto pelo navegador!

## ğŸ“ Entendendo a Estrutura

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py           # Arquivo principal (inicia o servidor)
â”‚   â”œâ”€â”€ database.py       # ConfiguraÃ§Ã£o do banco de dados
â”‚   â”œâ”€â”€ models.py         # Modelos (tabelas) do banco
â”‚   â”œâ”€â”€ schemas.py        # ValidaÃ§Ã£o de dados (entrada/saÃ­da)
â”‚   â””â”€â”€ routers/          # Endpoints da API
â”‚       â””â”€â”€ clientes.py   # Rotas de clientes
â”œâ”€â”€ requirements.txt      # DependÃªncias do projeto
â””â”€â”€ radio_ads.db         # Banco de dados SQLite (criado automaticamente)
```

## ğŸ“š Conceitos Importantes

### O que Ã© uma API REST?

Uma API REST Ã© como um "garÃ§om" entre o frontend (interface) e o banco de dados:

- O **frontend** pede algo (ex: "me dÃª a lista de clientes")
- A **API** processa o pedido e busca no banco
- A **API** retorna a resposta (ex: lista de clientes em formato JSON)

### HTTP Methods (Verbos)

- **GET**: Buscar dados (ex: listar clientes)
- **POST**: Criar novo registro (ex: criar cliente)
- **PUT**: Atualizar registro completo
- **PATCH**: Atualizar apenas alguns campos
- **DELETE**: Deletar registro

### Status Codes (CÃ³digos de Resposta)

- **200**: OK - Tudo certo
- **201**: Created - Registro criado com sucesso
- **400**: Bad Request - Dados invÃ¡lidos
- **404**: Not Found - NÃ£o encontrado
- **500**: Internal Server Error - Erro no servidor

## ğŸ§ª Testando a API

### 1. Via DocumentaÃ§Ã£o Interativa (Recomendado)

Acesse http://localhost:8000/docs e teste direto pelo navegador!

### 2. Via curl (Terminal)

**Listar clientes:**

```bash
curl http://localhost:8000/clientes
```

**Criar cliente:**

```bash
curl -X POST http://localhost:8000/clientes \
  -H "Content-Type: application/json" \
  -d '{
    "nome": "Empresa Teste",
    "cnpj_cpf": "12.345.678/0001-90",
    "email": "contato@teste.com",
    "telefone": "(88) 99999-9999"
  }'
```

**Buscar cliente especÃ­fico:**

```bash
curl http://localhost:8000/clientes/1
```

### 3. Via Python

```python
import requests

# Listar clientes
response = requests.get("http://localhost:8000/clientes")
clientes = response.json()
print(clientes)

# Criar cliente
novo_cliente = {
    "nome": "Empresa XYZ",
    "cnpj_cpf": "98.765.432/0001-10",
    "email": "xyz@empresa.com"
}
response = requests.post("http://localhost:8000/clientes", json=novo_cliente)
print(response.json())
```

## ğŸ—„ï¸ Banco de Dados

O banco SQLite Ã© criado automaticamente na primeira execuÃ§Ã£o.

**LocalizaÃ§Ã£o:** `backend/radio_ads.db`

### Visualizar o banco

VocÃª pode usar ferramentas como:

- **DB Browser for SQLite** (GUI): https://sqlitebrowser.org/
- **sqlite3** (Terminal):
  ```bash
  sqlite3 radio_ads.db
  .tables  # Lista todas as tabelas
  SELECT * FROM clientes;  # Consulta
  ```

## ğŸ”§ PrÃ³ximos Passos

1. âœ… **Clientes** - PRONTO!
2. ğŸš§ **Contratos** - Vamos criar a seguir
3. ğŸš§ **VeiculaÃ§Ãµes** - Depois dos contratos
4. ğŸš§ **Monitor de Logs** - IntegraÃ§Ã£o com Zara Studio
5. ğŸš§ **Frontend** - Interface web

## ğŸ› ResoluÃ§Ã£o de Problemas

### Erro: "Module not found"

```bash
# Certifique-se de estar no ambiente virtual
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# Reinstale as dependÃªncias
pip install -r requirements.txt
```

### Erro: "Address already in use"

```bash
# A porta 8000 jÃ¡ estÃ¡ em uso
# OpÃ§Ã£o 1: Matar o processo
lsof -ti:8000 | xargs kill -9  # Linux/Mac
netstat -ano | findstr :8000   # Windows (depois kill com TaskManager)

# OpÃ§Ã£o 2: Usar outra porta
uvicorn app.main:app --port 8001
```

### Banco de dados corrompido

```bash
# Delete o banco e deixe ele ser recriado
rm radio_ads.db
python app/main.py
```

## ğŸ“ Suporte

Se tiver dÃºvidas ou problemas:

1. Verifique os logs do servidor (mensagens no terminal)
2. Teste os endpoints na documentaÃ§Ã£o interativa (/docs)
3. Verifique se o banco foi criado corretamente

## ğŸ“ LicenÃ§a

Este projeto Ã© de uso interno da rÃ¡dio.
